# 输入节点使用指南

本文档介绍新增的四个输入节点的功能和使用方法。

## 节点概览

### 1. String Input (字符串输入节点)
- **类名**: `StringInputNode`
- **分类**: `input/text`
- **功能**: 提供文字内容输入
- **输入**: 多行文本字符串
- **输出**: 处理后的字符串

### 2. Float Input (浮点数输入节点)
- **类名**: `FloatInputNode`
- **分类**: `input/number`
- **功能**: 提供浮点数输入和格式化
- **输入**: 浮点数值和精度设置
- **输出**: 浮点数值和格式化字符串

### 3. Integer Input (整数输入节点)
- **类名**: `IntegerInputNode`
- **分类**: `input/number`
- **功能**: 提供整数输入
- **输入**: 整数值
- **输出**: 整数值和字符串表示

### 4. Boolean Input (布尔值输入节点)
- **类名**: `BooleanInputNode`
- **分类**: `input/logic`
- **功能**: 提供布尔值输入
- **输入**: 布尔值
- **输出**: 布尔值、字符串表示和整数表示

## 详细功能说明

### String Input 节点

**输入参数**:
- `text` (STRING): 文本内容，支持多行输入
  - 默认值: 空字符串
  - 占位符: "请输入文字内容..."

**输出**:
- `text_output` (STRING): 处理后的文本

**特性**:
- 支持多行文本输入
- 自动处理 `None` 值和非字符串类型
- 显示输入文本的长度信息
- 在日志中显示文本预览（前50个字符）

### Float Input 节点

**输入参数**:
- `value` (FLOAT): 浮点数值
  - 默认值: 0.0
  - 范围: -999999.0 到 999999.0
  - 步长: 0.01
- `precision` (INT, 可选): 小数位精度
  - 默认值: 2
  - 范围: 0 到 10

**输出**:
- `float_output` (FLOAT): 浮点数值
- `formatted_string` (STRING): 格式化的字符串表示

**特性**:
- 自动类型转换和验证
- 可配置的小数位精度
- 提供格式化的字符串输出
- 错误处理和默认值回退

### Integer Input 节点

**输入参数**:
- `value` (INT): 整数值
  - 默认值: 0
  - 范围: -999999 到 999999
  - 步长: 1

**输出**:
- `int_output` (INT): 整数值
- `string_output` (STRING): 字符串表示

**特性**:
- 自动类型转换（支持浮点数转整数）
- 输入验证和错误处理
- 同时提供数值和字符串输出

### Boolean Input 节点

**输入参数**:
- `value` (BOOLEAN): 布尔值
  - 默认值: false

**输出**:
- `bool_output` (BOOLEAN): 布尔值
- `string_output` (STRING): 字符串表示 ("true"/"false")
- `int_output` (INT): 整数表示 (1/0)

**特性**:
- 智能类型转换：
  - 字符串: "true", "1", "yes", "on", "enabled" → true
  - 数字: 非零值 → true，零值 → false
- 多种格式输出
- 完善的错误处理

## 使用示例

### 基本使用

1. **文本处理工作流**:
   ```
   String Input → [文本处理节点] → 输出
   ```

2. **数值计算工作流**:
   ```
   Float Input → [数学运算节点] → 结果
   Integer Input → [计数器节点] → 计数
   ```

3. **条件控制工作流**:
   ```
   Boolean Input → [条件判断节点] → 分支处理
   ```

### 组合使用

```
String Input ("3.14159") → Float Input → 数值处理
Float Input → Integer Input (取整) → 整数运算
Integer Input → Boolean Input (非零判断) → 条件控制
```

## 错误处理

所有输入节点都包含完善的错误处理机制：

- **类型验证**: 自动检查和转换输入类型
- **默认值回退**: 无效输入时使用安全的默认值
- **日志记录**: 详细的处理过程日志
- **异常捕获**: 防止因输入错误导致的崩溃

## 注意事项

1. **性能考虑**: 大量文本输入时注意内存使用
2. **精度设置**: Float Input 的精度设置仅影响字符串输出格式
3. **类型转换**: 所有节点都支持智能类型转换，但建议使用正确的输入类型
4. **日志输出**: 节点会在控制台输出详细的处理信息，便于调试

## 扩展建议

这些基础输入节点可以作为更复杂节点的构建基础：

- 组合多个输入创建复合数据结构
- 添加验证规则创建受限输入节点
- 结合其他节点创建专用的输入处理链

---

*这些输入节点为ComfyUI工作流提供了灵活、可靠的数据输入能力，支持各种数据类型和使用场景。*